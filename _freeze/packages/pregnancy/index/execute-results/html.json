{
  "hash": "1c9b8a11a0583703f0d070cbc3ee7ee1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: pregnancy\ndescription: |\n  Calculate and track dates and medication during pregnancy and fertility treatment\ndate: 2025-09-04\nauthor: \n  - name: Ella Kaye\nsite-url: https://ellakaye.co.uk\nimage: ../../images/hex/pregnancy.png\n# N.B. Don't use \"\" in image-alt\nimage-alt: |\n  Hex sticker for the pregnancy R package featuring a blue hexagonal border with stylized hands traced from a photo of a woman cradling her pregnant belly, positioned around the package name.\n#categories:\n#  - TAG_1\n#  - TAG_2\n#twitter-card: \n# uncomment lines below for different title and description to post\n#  title: |\n#  description: |\n# uncomment for different image to post\n#  image: |\n#  image-alt: |\n#  defaults to 500 x 500 summary: uncomment lines below for large card\n#  image-width: 600 \n#  image-height: 314\n#  card-style: \"summary_large_image\" \ndraft: false\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n## Main resources\n\n`<a href=\"https://github.com/EllaKaye/pregnancy\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fab fa-github\"></i> source</a>`{=html}\n`<a href=\"https://ellakaye.github.io/pregnancy\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fas fa-book\"></i> documentation</a>`{=html}\n`<a href=\"https://CRAN.R-project.org/package=pregnancy\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fas fa-box-open\"></i> CRAN</a>`{=html}\n`<a href=\"https://ellakaye.r-universe.dev/pregnancy\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fas fa-rocket\"></i> R-universe</a>`{=html}\n`<a href=\"../../images/hex/pregnancy.png\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fas fa-dice-d6\"></i> hex sticker</a>`{=html}\n\n## Overview\n\nThis is an R package for calculating dates and tracking medications during pregnancy and fertility treatment. \nIt extends a private, personal package that I wrote for myself when I was pregnant.\nIt contains functions and features that I found useful at the time, \nand others that I added when adapting the package for general use.\n\nThe functionality goes beyond what's offered by online pregnancy calculators and apps, \nplus there are no concerns (unlike with these sites and apps) about data privacy, tracking or advertising.\n\n## Installation \n\n**pregnancy** is available on CRAN:\n\n``` r\ninstall.packages(\"pregnancy\")\n```\n\nYou can install the development version from R-universe:\n\n``` r\ninstall.packages(\"pregnancy\", repos = \"https://ellakaye.r-universe.dev\")\n```\n\nAlternatively, install the development version from [GitHub](https://github.com/EllaKaye/pregnancy) with: \n\n``` r \npak::pak(\"EllaKaye/pregnancy\") \n```\n\n## Usage\n\nThis is a quick tour. \nFor a more extensive guide, see the [Get Started](https://ellakaye.github.io/pregnancy/articles/pregnancy.html) vignette, \n`vignette(\"pregnancy\")`.\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n\n## Date calculations\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# invisibly returns a Date object with the estimated due date\n# by default, start date of last menstrual period, but other options available\ndue_date <- calculate_due_date(\"2025-02-24\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ Estimated due date: Monday, December 01, 2025\nℹ Estimated birth period begins: November 10, 2025 (37 weeks)\nℹ Estimated birth period ends: December 15, 2025 (42 weeks)\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# set the pregnancy.due_date option\n# avoids having to pass the due date as argument to other functions\nset_due_date(due_date)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ Due date set as December 01, 2025\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ Functions in the pregnancy package will now use this `due_date` option.\nℹ So, for this R session, you do not need to supply a value to the `due_date`\n  argument (unless you wish to override the option).\nℹ To make this `due_date` option available in all R sessions, in your\n  \".Rprofile\", set `options(pregnancy.due_date = ...)`\n  where ... is the value of `due_date`.\nℹ You can edit your \".Rprofile\" by calling `usethis::edit_r_profile()`\nℹ You can retrieve the `due_date` option with `get_due_date()`,\n  or with `getOption('pregnancy.due_date')`.\n```\n\n\n:::\n:::\n\n\n\nThis README was built on **September 17, 2025**, \nso for the purposes of reading this page, that counts as \"today\".\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# don't need to specify `due_date` since option is set\n# invisibly returns number of days into the pregnancy\nhow_far()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ You are 29 weeks and 2 days pregnant.\nℹ That's 10 weeks and 5 days until the due date (December 01, 2025).\nℹ You are 73% through the pregnancy.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# alternative `on_date`, addressed as \"I\"\nhow_far(on_date = \"2025-09-17\", person = 1)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ I am 29 weeks and 2 days pregnant.\nℹ That's 10 weeks and 5 days until the due date (December 01, 2025).\nℹ I am 73% through the pregnancy.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# when a given week of the pregnancy is reached\n# invisibly returns the Date when that week is reached\ndate_when(33)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ On October 13, 2025, you will be 33 weeks pregnant.\nℹ That's 3 weeks and 5 days away.\n```\n\n\n:::\n:::\n\n\n\n## Tracking medications\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a simplified medication schedule\nmeds <- dplyr::tribble(\n  ~medication, ~format, ~quantity, ~start_date, ~stop_date,\n  \"progynova\", \"tablet\", 3, \"2025-08-21\", \"2025-08-31\",\n  \"progynova\", \"tablet\", 6, \"2025-09-01\", \"2025-09-11\",\n  \"cyclogest\", \"pessary\", 2, \"2025-09-03\", \"2025-09-11\",\n  \"clexane\", \"injection\", 1, \"2025-09-08\", \"2025-11-05\"\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# how much of each medication is left to take, as of \"today\"\nmedications_remaining(meds)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 2\n  medication quantity\n  <chr>         <int>\n1 clexane          50\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# how much medication for a given week \n# (useful if you need to request a prescription to cover a certain time period)\nmedications_remaining(meds, on_date = \"2025-09-01\", until_date = \"2025-09-07\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  medication quantity\n  <chr>         <int>\n1 cyclogest        10\n2 progynova        42\n```\n\n\n:::\n:::\n\n\n\n## Global options\n\n`how_far()` and `date_when()` both need to know the pregnancy due date,\nand this can be passed directly to the `due_date` argument.\nIt would be very tedious, however, to have to enter a due date every time you call these functions over the course of a pregnancy, \nespecially since that date is constant throughout. \nThe same holds for the for medications table required for `medications_remaining()`.\n\nTo avoid this, the pregnancy package makes use of **global options**, \nwhich can be set with the `set_*` family of functions (`set_due_date()`, `set_person()`, `set_medications()`), \nand retrieved with the corresponding `get_*` family of functions (`get_due_date()`, `get_person()`, `get_medications()`).\nThese options will persist for the duration of the current R session.\n\nAny global option can be unset by calling its `set_*` function with the argument `NULL`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a different due date from the earlier example\nset_due_date(\"2026-04-01\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ Due date set as April 01, 2026\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ Functions in the pregnancy package will now use this `due_date` option.\nℹ So, for this R session, you do not need to supply a value to the `due_date`\n  argument (unless you wish to override the option).\nℹ To make this `due_date` option available in all R sessions, in your\n  \".Rprofile\", set `options(pregnancy.due_date = ...)`\n  where ... is the value of `due_date`.\nℹ You can edit your \".Rprofile\" by calling `usethis::edit_r_profile()`\nℹ You can retrieve the `due_date` option with `get_due_date()`,\n  or with `getOption('pregnancy.due_date')`.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhow_far()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ You are 12 weeks and 0 days pregnant.\nℹ That's 28 weeks and 0 days until the due date (April 01, 2026).\nℹ You are 30% through the pregnancy.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# check and then unset option\nget_due_date()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nℹ Your due date is set as April 01, 2026.\n```\n\n\n:::\n\n```{.r .cell-code}\nset_due_date(NULL)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ pregnancy.due_date option set to NULL.\nℹ You will need to explicitly pass a value to the `due_date` argument\n  in functions that use it, or reset the option with `set_due_date()`.\n```\n\n\n:::\n:::\n\n\n\n### Options in `.Rprofile`\n\nWe recommend adding your options to your `.Rprofile` so they persist across R sessions.\nR will read in these options at the start of each session, \nand you will not need to use the `set_*` family of functions, nor pass them as arguments to the package functions. \nThe `get_*` family of functions will still retrieve the options set in `.Rprofile`. \n\nHere's an example of what that might look like:\n\n``` r\noptions(\n  pregnancy.due_date = \"2025-09-16\",\n  pregnancy.person = \"I\", # addressed in first person\n  pregnancy.medications = tibble::tribble(\n  ~medication, ~format, ~quantity, ~start_date, ~stop_date,\n  \"progynova\", \"tablet\", 3, \"2025-08-21\", \"2025-08-31\",\n  \"progynova\", \"tablet\", 6, \"2025-09-01\", \"2025-09-11\",\n  \"cyclogest\", \"pessary\", 2, \"2025-09-03\", \"2025-09-11\",\n  \"clexane\", \"injection\", 1, \"2025-09-08\", \"2025-11-05\"\n  ) \n)\n```\n\nNote that it is best to avoid creating R objects in your `.Rprofile`, e.g. a `medications` data frame outside of the call to `options()`, otherwise that object will be loaded into your global environment at the start of every R session.\n\n## Documentation\n\nSee package website at <https://ellakaye.github.io/pregnancy/> \nand also in the installed package: `help(package = \"pregnancy\")`.\n\n\n\n::: {.cell}\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}