{
  "hash": "8d234cedb8d4c0d120ddfac78c52d0eb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: basepenguins\ndescription: |\n  Convert files that Use {palmerpenguins} to Work with base R's penguin dataset\ndate: 2025-04-08 # CRAN publication\nauthor: \n  - name: Ella Kaye\n  - name: Heather Turner \nsite-url: https://ellakaye.co.uk\nimage: ../../images/hex/basepenguins.png\n# N.B. Don't use \"\" in image-alt\nimage-alt: |\n  A hexagonal logo for the basepenguins pack featuring three penguins in the foreground against an Antarctic landscape - an Adelie penguin on the left, a Gentoo penguin in the center back, and a Chinstrap penguin on the right. Behind them is a scenic view with icebergs, mountains, and what yellow camping tents on rocky terrain. The logo has a golden yellow border and the text basepenguins is displayed prominently across the upper portion in black letters.\n#categories:\n#  - TAG_1\n#  - TAG_2\n#twitter-card: \n# uncomment lines below for different title and description to post\n#  title: |\n#  description: |\n# uncomment for different image to post\n#  image: |\n#  image-alt: |\n#  defaults to 500 x 500 summary: uncomment lines below for large card\n#  image-width: 600 \n#  image-height: 314\n#  card-style: \"summary_large_image\" \ndraft: false\n---\n\n::: {.cell}\n\n:::\n\n\n\n## Main resources\n\n`<a href=\"https://github.com/EllaKaye/basepenguins/\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fab fa-github\"></i> source</a>`{=html}\n`<a href=\"https://ellakaye.github.io/basepenguins/\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fas fa-book\"></i> documentation</a>`{=html}\n`<a href=\"https://CRAN.R-project.org/package=basepenguins\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fas fa-box-open\"></i> CRAN</a>`{=html}\n`<a href=\"https://ellakaye.r-universe.dev/basepenguins\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fas fa-rocket\"></i> R-universe</a>`{=html}\n`<a href=\"../../images/hex/BradleyTerryScalable.png\" class=\"icon-link\" target=\"_blank\" rel=\"noopener\"><i class=\"fas fa-dice-d6\"></i> hex sticker</a>`{=html}\n\n\n## Overview \n\nConvert scripts that use the [**palmerpenguins**](https://allisonhorst.github.io/palmerpenguins/index.html) package to use the versions of the `penguins` and `penguins_raw` datasets that are available in R ≥ 4.5.0.\n\nThe Palmer Penguins datasets have become [very popular](https://apreshill.github.io/palmerpenguins-useR-2022/) in the R community, especially in educational contexts, and as an [alternative to the `iris` dataset](https://journal.r-project.org/articles/RJ-2022-020/). Now that `penguins` and `penguins_raw` are in **datasets** (R ≥ 4.5.0), they are more widely available and easier to get started with, especially for new R users and for use in teaching.\n\nThe version of `penguins` in **datasets** (R ≥ 4.5.0) has some shorter variable names than the **palmerpenguins** equivalent (e.g. `bill_len` instead of `bill_length_mm`), for more compact code and data display. \nIt does mean, however, that for those wanting to use R's version of `penguins`, it isn't simply a case of removing the call to `library(palmerpenguins)` \nor replacing `palmerpenguins` with `datasets` in `data(\"penguins\", package = \"palmerpenguins\")` and the script still running. The **basepenguins** package takes care of converting files by removing the call to **palmerpenguins** and making the necessary conversions to variable names, ensuring that the resulting scripts still run using the **datasets** versions of `penguins` and `penguins_raw`.\n\n## Installation\n\n**basepenguins** is available on CRAN:\n\n```r\ninstall.packages(\"basepenguins\")\n```\n\nOr get the development version from R-universe:\n\n``` r\ninstall.packages(\"basepenguins\", repos = \"https://ellakaye.r-universe.dev\")\n```\n\n## Converting a file\n\nIf a file is 'convertible', i.e. it contains `library(palmerpenguins)` or `data(\"penguins\", package = \"palmerpenguins\")` (with any style of quotes), and has one of a specified set of extensions (by default `\"R\"`, `\"r\"`, `\"qmd\"`, `\"rmd\"`, `\"Rmd\"`), then converting it will do the following:\n\n- Replace `library(palmerpenguins)` (or same with `palmerpenguins` in quotes) with the empty string`\"\"`\n- Replace `data(\"penguins\", package = \"palmerpenguins\")` (with any style of quotes) with `data(\"penguins\", package = \"datasets\")` \n-   Replace variable names:\n    -   `bill_length_mm` -\\> `bill_len`\n    -   `bill_depth_mm` -\\> `bill_dep`\n    -   `flipper_length_mm` -\\> `flipper_len`\n    -   `body_mass_g` -\\> `body_mass`\n-   Replace `ends_with(\"_mm\")` with `starts_with(\"flipper_\"), starts_with(\"bill_\")`\n\nHere, we simply show the 'before-and-after' when converting a single file. For a more extensive guide to using the package, see the [Get Started](https://ellakaye.github.io/basepenguins/articles/basepenguins.html) vignette.\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\nGet and see an example file provided by the package (adapted from a section of the **palmerpenguins** [Get Started](https://allisonhorst.github.io/palmerpenguins/articles/intro.html) vignette):\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_file <- example_files(\"penguins.R\")\ncat(readLines(penguins_file), sep = \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlibrary(palmerpenguins)\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# exploring scatterplots\npenguins |>\n  select(body_mass_g, ends_with(\"_mm\")) |>\n  ggplot(aes(x = flipper_length_mm, y = body_mass_g)) +\n  geom_point(aes(color = species, shape = species), size = 2) +\n  scale_color_manual(values = c(\"darkorange\", \"darkorchid\", \"cyan4\"))\n```\n\n\n:::\n:::\n\n\n\nThen, convert the file (saving it to a new file) and see the new script:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconvert_files(penguins_file, \"penguins_converted.R\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n- ends_with(\"_mm\") replaced on line 7 in penguins_converted.R\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n- Please check the changed output files.\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(readLines(\"penguins_converted.R\"), sep = \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# exploring scatterplots\npenguins |>\n  select(body_mass, starts_with(\"flipper_\"), starts_with(\"bill_\")) |>\n  ggplot(aes(x = flipper_len, y = body_mass)) +\n  geom_point(aes(color = species, shape = species), size = 2) +\n  scale_color_manual(values = c(\"darkorange\", \"darkorchid\", \"cyan4\"))\n```\n\n\n:::\n:::\n\n\n\n## Converting multiple files or a directory\n\nThere are four functions in **basepenguins** to convert mulitple files. \nIn each case, the default `extensions` (i.e. file types to convert) are `\"R\"`, `\"r\"`, `\"qmd\"`, `\"rmd\"`, `\"Rmd\"`.\nIf `input` contains non-convertible files (i.e. without the specified extensions or without reference to `palmerpenguins`),\nthey will be copied unmodified to their new `output` location in `convert_files()` and `convert_dir()`,\nor left untouched by `convert_files_inplace()` and `convert_dir_inplace()`.\n\n|  |  |\n|----|----|\n| `convert_files(input, output, extensions)` | convert an `input` vector of files to new `output` locations |\n| `convert_files_inplace(input, extensions)` | convert a vector of files by overwriting them |\n| `convert_dir(input, output, extensions)` | convert all files in `input` directory  into a new `output` directory (preserving nesting structure)  |\n| `convert_dir_inplace(input, extensions)` | convert all files in a directory by overwriting them |\n\n## Thank you!\n\nMany thanks to [Allison Horst](https://allisonhorst.github.io) for the fantastic **basepenguins** hex,\nfeaturing the Adélie, Gentoo and Chinstrap familiar from her [**palmergenuins** artwork](https://allisonhorst.github.io/palmerpenguins/articles/art.html)\nand [Kristen Gorman's](https://gormankb.github.io) base camp from her trips to the Palmer Archipelago to collect the data.\n\n![](../../images/hex/basepenguins.png){width=\"50%\"}",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}